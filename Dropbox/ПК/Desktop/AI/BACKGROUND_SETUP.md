# üé® –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ–Ω–æ–≤ –¥–ª—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö —Ä–æ–ª–µ–π

## üìã **–ß—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å:**

### ‚úÖ **–î–∞, –∑–∞–º–µ–Ω–∞ —Ñ–æ–Ω–∞ –í–û–ó–ú–û–ñ–ù–ê –±–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤!**

–Ø –¥–æ–±–∞–≤–∏–ª —Å–∏—Å—Ç–µ–º—É **—É–º–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–æ–Ω–æ–≤** —Å —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Å—Ü–µ–Ω–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏:

- üèá **–ö—Ä—ã–ª–∞—Ç—ã–π –≥—É—Å–∞—Ä**: –ø–æ–ª–µ –±–∏—Ç–≤—ã, –∑–∞–º–∫–æ–≤—ã–π –¥–≤–æ—Ä, –≤–æ–µ–Ω–Ω—ã–π –ª–∞–≥–µ—Ä—å
- üëë **–õ–∏—Ç–æ–≤—Å–∫–∏–π –±–æ—è—Ä–∏–Ω**: —Ç—Ä–æ–Ω–Ω—ã–π –∑–∞–ª, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, —Å–∞–¥ —É—Å–∞–¥—å–±—ã  
- üî® **–ö—É–∑–Ω–µ—Ü**: –∫—É–∑–Ω–∏—Ü–∞, –º–∞—Å—Ç–µ—Ä—Å–∫–∞—è, —Ä—É–¥–Ω–∏–∫
- ‚öîÔ∏è **–¢–µ–≤—Ç–æ–Ω—Å–∫–∏–π —Ä—ã—Ü–∞—Ä—å**: —Å–æ–±–æ—Ä, –∫—Ä–µ–ø–æ—Å—Ç—å, –º–æ–Ω–∞—Å—Ç—ã—Ä—å
- üí∞ **–ì–∞–Ω–∑–µ–π—Å–∫–∏–π –∫—É–ø–µ—Ü**: —Ç–æ—Ä–≥–æ–≤–∞—è –ø–ª–æ—â–∞–¥—å, –ø–æ—Ä—Ç, —Å–∫–ª–∞–¥
- üåæ **–ö—Ä–µ—Å—Ç—å—è–Ω–∏–Ω**: –ø–æ–ª–µ, –¥–µ—Ä–µ–≤–Ω—è, –ª–µ—Å

---

## üõ†Ô∏è **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞:**

### **1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–æ–Ω–æ–≤ (—Å–µ–π—á–∞—Å)**
```javascript
// –ü—Ä–æ—Ü–µ–¥—É—Ä–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏ –∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
function createHistoricalBackground(ctx, canvas, bgConfig) {
    // –ú–Ω–æ–≥–æ—Å–ª–æ–π–Ω—ã–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏
    // –ê—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (–∑–Ω–∞–º–µ–Ω–∞, –±–∞—à–Ω–∏, –¥–µ—Ä–µ–≤—å—è)
    // –¢–µ–∫—Å—Ç—É—Ä—ã —ç–ø–æ—Ö–∏
}
```

### **2. –£–ª—É—á—à–µ–Ω–∏—è –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
```javascript
// –ï—Å–ª–∏ –¥–æ–±–∞–≤–∏—à—å –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ –ø–∞–ø–∫—É backgrounds/
const backgroundImages = {
    hussar: ['battlefield.jpg', 'castle.jpg', 'camp.jpg'],
    boyar: ['throne.jpg', 'library.jpg', 'garden.jpg']
    // ... –∏ —Ç.–¥.
}
```

---

## üìÅ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –¥–ª—è —Ñ–æ–Ω–æ–≤:**

```
project/
‚îú‚îÄ‚îÄ backgrounds/
‚îÇ   ‚îú‚îÄ‚îÄ hussar/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ battlefield.jpg
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ castle.jpg
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ camp.jpg
‚îÇ   ‚îú‚îÄ‚îÄ boyar/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ throne.jpg
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ library.jpg
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ garden.jpg
‚îÇ   ‚îú‚îÄ‚îÄ blacksmith/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ forge.jpg
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ workshop.jpg
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ mine.jpg
‚îÇ   ‚îú‚îÄ‚îÄ knight/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cathedral.jpg
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fortress.jpg
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ monastery.jpg
‚îÇ   ‚îú‚îÄ‚îÄ merchant/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ market.jpg
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ port.jpg
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ warehouse.jpg
‚îÇ   ‚îî‚îÄ‚îÄ peasant/
‚îÇ       ‚îú‚îÄ‚îÄ field.jpg
‚îÇ       ‚îú‚îÄ‚îÄ village.jpg
‚îÇ       ‚îî‚îÄ‚îÄ forest.jpg
‚îî‚îÄ‚îÄ index.html
```

---

## üéØ **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:**

### **üèá –ö—Ä—ã–ª–∞—Ç—ã–π –≥—É—Å–∞—Ä:**
- **battlefield.jpg**: —Å—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤–æ–µ –ø–æ–ª–µ –±–∏—Ç–≤—ã, –∑–Ω–∞–º–µ–Ω–∞, –≤—Å–∞–¥–Ω–∏–∫–∏
- **castle.jpg**: –≥–æ—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–º–æ–∫, –∫–∞–º–µ–Ω–Ω—ã–µ —Å—Ç–µ–Ω—ã
- **camp.jpg**: –≤–æ–µ–Ω–Ω—ã–π –ª–∞–≥–µ—Ä—å, —à–∞—Ç—Ä—ã, –∫–æ—Å—Ç—Ä—ã

### **üëë –õ–∏—Ç–æ–≤—Å–∫–∏–π –±–æ—è—Ä–∏–Ω:**
- **throne.jpg**: —Ä–æ—Å–∫–æ—à–Ω—ã–π —Ç—Ä–æ–Ω–Ω—ã–π –∑–∞–ª, –∫–æ–ª–æ–Ω–Ω—ã
- **library.jpg**: —Å—Ç–∞—Ä–∏–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∫–Ω–∏–≥–∏, —Å–≤–µ—á–∏  
- **garden.jpg**: –¥–≤–æ—Ä—Ü–æ–≤—ã–π —Å–∞–¥, –∞–ª–ª–µ–∏, —Ñ–æ–Ω—Ç–∞–Ω—ã

### **üî® –ö—É–∑–Ω–µ—Ü:**
- **forge.jpg**: –∫—É–∑–Ω–∏—Ü–∞ —Å –æ–≥–Ω–µ–º, –Ω–∞–∫–æ–≤–∞–ª—å–Ω–µ–π, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
- **workshop.jpg**: –º–∞—Å—Ç–µ—Ä—Å–∫–∞—è —Å –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–º–∏ –∏–∑–¥–µ–ª–∏—è–º–∏
- **mine.jpg**: —Ä—É–¥–Ω–∏–∫, –∫–∞–º–µ–Ω–Ω—ã–µ —Å—Ç–µ–Ω—ã, —Ñ–∞–∫–µ–ª—ã

### **‚öîÔ∏è –¢–µ–≤—Ç–æ–Ω—Å–∫–∏–π —Ä—ã—Ü–∞—Ä—å:**
- **cathedral.jpg**: –≥–æ—Ç–∏—á–µ—Å–∫–∏–π —Å–æ–±–æ—Ä, –≤–∏—Ç—Ä–∞–∂–∏, –∞—Ä–∫–∏
- **fortress.jpg**: –∫–∞–º–µ–Ω–Ω–∞—è –∫—Ä–µ–ø–æ—Å—Ç—å, –±–∞—à–Ω–∏, —Å—Ç–µ–Ω—ã
- **monastery.jpg**: –º–æ–Ω–∞—Å—Ç—ã—Ä—å, –∫–µ–ª—å–∏, –º–æ–ª–∏—Ç–≤–µ–Ω–Ω—ã–π –∑–∞–ª

### **üí∞ –ì–∞–Ω–∑–µ–π—Å–∫–∏–π –∫—É–ø–µ—Ü:**
- **market.jpg**: —Å—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤–∞—è —Ç–æ—Ä–≥–æ–≤–∞—è –ø–ª–æ—â–∞–¥—å, –ª–∞–≤–∫–∏
- **port.jpg**: –º–æ—Ä—Å–∫–æ–π –ø–æ—Ä—Ç, –∫–æ—Ä–∞–±–ª–∏, –ø—Ä–∏—á–∞–ª—ã
- **warehouse.jpg**: —Å–∫–ª–∞–¥ —Å —Ç–æ–≤–∞—Ä–∞–º–∏, –±–æ—á–∫–∏, –º–µ—à–∫–∏

### **üåæ –ö—Ä–µ—Å—Ç—å—è–Ω–∏–Ω:**
- **field.jpg**: –ø—à–µ–Ω–∏—á–Ω–æ–µ –ø–æ–ª–µ, —Å–µ–ª—å—Å–∫–∏–π –ø–µ–π–∑–∞–∂
- **village.jpg**: –¥–µ—Ä–µ–≤–µ–Ω—Å–∫–∏–µ –¥–æ–º–∞, —Å–µ–ª—å—Å–∫–∞—è —É–ª–∏—Ü–∞
- **forest.jpg**: –ª–µ—Å–Ω–∞—è –æ–ø—É—à–∫–∞, –¥–µ—Ä–µ–≤—å—è, –ø—Ä–∏—Ä–æ–¥–∞

---

## üîß **–ö–æ–¥ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:**

```javascript
// –î–æ–±–∞–≤—å —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –≤ index.html
async function loadBackgroundImage(role, scene) {
    try {
        const img = new Image();
        img.crossOrigin = 'anonymous';
        
        return new Promise((resolve, reject) => {
            img.onload = () => resolve(img);
            img.onerror = () => {
                // Fallback –∫ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
                console.log(`–§–æ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω: backgrounds/${role}/${scene}.jpg`);
                resolve(null);
            };
            img.src = `backgrounds/${role}/${scene}.jpg`;
        });
    } catch (error) {
        return null;
    }
}

// –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–æ–Ω–∞
async function createHistoricalBackground(ctx, canvas, bgConfig, role) {
    const bgImage = await loadBackgroundImage(role, bgConfig.scene);
    
    if (bgImage) {
        // –†–∏—Å—É–µ–º —Ä–µ–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        ctx.drawImage(bgImage, 0, 0, canvas.width, canvas.height);
        
        // –î–æ–±–∞–≤–ª—è–µ–º –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π —Ñ–∏–ª—å—Ç—Ä
        ctx.globalCompositeOperation = 'multiply';
        ctx.globalAlpha = 0.7;
        
        const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
        bgConfig.colors.forEach((color, i) => {
            gradient.addColorStop(i / (bgConfig.colors.length - 1), color + '80');
        });
        ctx.fillStyle = gradient;
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
        ctx.globalCompositeOperation = 'source-over';
        ctx.globalAlpha = 1;
    } else {
        // Fallback –∫ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (—Ç–µ–∫—É—â–∏–π –∫–æ–¥)
        // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ...
    }
}
```

---

## üé® **–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:**

### **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:**
- **Unsplash**: –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∑–∞–º–∫–∏, –ø—Ä–∏—Ä–æ–¥–∞
- **Pixabay**: —Å—Ä–µ–¥–Ω–µ–≤–µ–∫–æ–≤—ã–µ —Å—Ü–µ–Ω—ã, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **Wikimedia Commons**: –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç–∏–Ω—ã, –≥—Ä–∞–≤—é—Ä—ã
- **AI –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã**: Midjourney, DALL-E –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Å—Ü–µ–Ω

### **–ü–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã:**
- "medieval castle interior"
- "gothic cathedral"  
- "blacksmith forge historical"
- "medieval marketplace"
- "16th century throne room"
- "medieval village countryside"

---

## üìä **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º—ã:**

### ‚úÖ **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å:**
- –ü—Ä–æ—Ü–µ–¥—É—Ä–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è 18 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ñ–æ–Ω–æ–≤
- –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏
- –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã –≤ —Å—Ç–∏–ª–µ —ç–ø–æ—Ö–∏
- –ê—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ (–∑–Ω–∞–º–µ–Ω–∞, –±–∞—à–Ω–∏, –¥–µ—Ä–µ–≤—å—è)

### ‚ö° **–° —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ —Å—Ç–∞–Ω–µ—Ç:**
- –§–æ—Ç–æ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –ª–æ–∫–∞—Ü–∏–∏
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Ñ–æ–Ω–æ–≤
- –ê—É—Ç–µ–Ω—Ç–∏—á–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ —ç–ø–æ—Ö–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### üß† **–£–º–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∫–ª—é—á–∞–µ—Ç:**
- –ê–Ω–∞–ª–∏–∑ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è —Ü–≤–µ—Ç–æ–∫–æ—Ä—Ä–µ–∫—Ü–∏—è
- –ù–∞–ª–æ–∂–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ —Å—Ç–∞—Ä–∏–Ω—ã

---

## üöÄ **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**

1. **–°–æ–∑–¥–∞–π –ø–∞–ø–∫—É `backgrounds/`** —Å –ø–æ–¥–ø–∞–ø–∫–∞–º–∏ –¥–ª—è —Ä–æ–ª–µ–π
2. **–°–∫–∞—á–∞–π 3 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** –¥–ª—è –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏ (18 —à—Ç—É–∫)
3. **–û–±–Ω–æ–≤–∏ –∫–æ–¥** –¥–æ–±–∞–≤–∏–≤ —Ñ—É–Ω–∫—Ü–∏—é `loadBackgroundImage`
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π** - —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ —Ñ–æ–Ω—ã

–°–∏—Å—Ç–µ–º–∞ —É–∂–µ –≥–æ—Ç–æ–≤–∞! –ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ç–∞–Ω–µ—Ç –µ—â–µ –∫—Ä—É—á–µ! üéâ
